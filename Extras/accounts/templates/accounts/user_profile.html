{% extends 'base.html' %}

{% block title %}Meu Perfil - The Closet{% endblock %}

{% block content %}
<div class="user-profile-page">
    <div class="user-profile-container">
        <h1 class="user-profile-title">Meu Perfil</h1>
        
        <div class="user-profile-info">
            <div class="user-profile-section">
                <h2 class="user-profile-subtitle">Informações Pessoais</h2>
                <p><strong>Nome de Usuário:</strong> {{ user.username }}</p>
                <p><strong>E-mail:</strong> {{ user.email }}</p>
                <p><strong>Nome:</strong> {{ user.first_name }} {{ user.last_name }}</p>
                <a href="#" class="user-profile-edit-button">Editar Informações</a>
            </div>

            <div class="user-profile-section">
                <h2 class="user-profile-subtitle">Histórico de Pedidos</h2>
                {% if orders %}
                    <ul class="user-profile-order-list">
                        {% for order in orders %}
                            <li>
                                <p><strong>Pedido #{{ order.id }}</strong></p>
                                <p>Data: {{ order.created_at|date:"d/m/Y" }}</p>
                                <p>Total: R$ {{ order.total_price|floatformat:2 }}</p>
                                <a href="#" class="user-profile-order-details">Ver Detalhes</a>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>Você ainda não fez nenhum pedido.</p>
                {% endif %}
            </div>

            <div class="user-profile-section">
                <h2 class="user-profile-subtitle">Endereços</h2>
                {% if addresses %}
                    <ul class="user-profile-address-list">
                        {% for address in addresses %}
                            <li>
                                <p><strong>{{ address.alias }}</strong></p>
                                <p>{{ address.street }}, {{ address.number }}</p>
                                <p>{{ address.city }} - {{ address.state }}</p>
                                <p>CEP: {{ address.zip_code }}</p>
                                <a href="#" class="user-profile-edit-button">Editar</a>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>Você ainda não cadastrou nenhum endereço.</p>
                {% endif %}
                <a href="#" class="user-profile-add-button">Adicionar Novo Endereço</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
